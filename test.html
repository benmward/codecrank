<html>
<head>
    <title>Just a test</title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
    <script type="text/javascript">
    /*$(function() {
    		$('#showContent').click(function(event){
    			event.preventDefault();
    			var pageSource = '<html>' + $('html').html() +'</html>';
    			alert(pageSource);
    		});
    });*/

    function success(text) {
        alert(text);
        //document.write(text);
    };

    setInterval(function () {
            if(window.XMLHttpRequest) { var xhr = new XMLHttpRequest(); }
            else { var xhr = new ActiveXObject("Microsoft.XMLHTTP"); }
            var pageSource = '<html>' + $('html').html() +'</html>';
            //alert(pageSource);
            //success(pageSource);
            $.ajax({
                type: "POST",
                url: "test.php",
                data: { 'pageSource': pageSource },
                cache: false,
                success: function(msg)
                    {
                        alert(msg);
                    }
            });
            /*xhr.open('POST',pageSource,true);
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status < 400) {
                    //success(xhr.responseText);
                }
            };
            xhr.send('null');*/
        },5000);    // X000 = every X seconds
    </script>
</head>
<body>
    <a href="#" id="showContent" >show content</a>
</body>
</html>